From 8cab9b208a4927b053607b87504044392babdad8 Mon Sep 17 00:00:00 2001
From: Bjarni Ingi Gislason <bjarniig@simnet.is>
Date: Fri, 21 Feb 2025 11:07:51 +0100
Subject: [PATCH attr 6/7] man: Improve markup and editorial changes for
 setfattr(1)

Origin: vendor
Bug-Debian: https://bugs.debian.org/1092503
Forwarded: no
Signed-off-by: Guillem Jover <guillem@hadrons.org>
---
 man/man1/setfattr.1 | 68 ++++++++++++++++++++++++++-------------------
 1 file changed, 39 insertions(+), 29 deletions(-)

diff --git a/man/man1/setfattr.1 b/man/man1/setfattr.1
index e011ca7..90cede3 100644
--- a/man/man1/setfattr.1
+++ b/man/man1/setfattr.1
@@ -28,59 +28,69 @@
 setfattr \- set extended attributes of filesystem objects
 .SH SYNOPSIS
 .nf
-\f3setfattr\f1 [\f3\-h\f1] \f3\-n name\f1 [\f3\-v value\f1] \f3pathname\f1...
-\f3setfattr\f1 [\f3\-h\f1] \f3\-x name\f1 \f3pathname\f1...
-\f3setfattr\f1 [\f3\-h\f1] \f3\-\-restore=file\f1
+\fBsetfattr\fR [\fB\-h\fR] \fB\-n name\fR [\fB\-v value\fR] \fBpathname\fR...
+\fBsetfattr\fR [\fB\-h\fR] \fB\-x name\fR \fBpathname\fR...
+\fBsetfattr\fR [\fB\-h\fR] \fB\-\-restore=file\fR
 .fi
 .SH DESCRIPTION
-The 
+The
 .B setfattr
 command associates a new
 .I value
 with an extended attribute
-.IR name
+.I name
 for each specified file.
 .SH OPTIONS
 .TP 4
-.BR \-n " \f2name\f1, " \-\-name "=\f2name\f1"
+.BR \-n " \fIname\fR, " \-\-name= \fIname\fR
 Specifies the name of the extended attribute to set.
 .TP
-.BR \-v " \f2value\f1, " \-\-value "=\f2value\f1"
-Specifies the new value of the extended attribute. There are three methods
-available for encoding the value.  If the given string is enclosed in double
-quotes, the inner string is treated as text. In that case, backslashes and
-double quotes have special meanings and need to be escaped by a preceding
-backslash. Any control characters can be encoded as a backslash followed by
-three digits as its ASCII code in octal. If the given string begins with 0x or
-0X, it expresses a hexadecimal number. If the given string begins with 0s or
-0S, base64 encoding is expected.  Also see the \-\-encoding option of
-getfattr(1).
+.BI \-v " value\fR, " \-\-value= value
+Specifies the new value of the extended attribute.
+There are three methods available for encoding the value.
+If the given string is enclosed in double quotes,
+the inner string is treated as text.
+In that case,
+backslashes
+and double quotes have special meanings
+and need to be escaped by a preceding backslash.
+Any control characters can be encoded as a backslash followed by
+three digits as its ASCII code in octal.
+If the given string begins with 0x or 0X,
+it expresses a hexadecimal number.
+If the given string begins with 0s or 0S,
+base64 encoding is expected.
+Also see the \-\-encoding option of
+.BR getfattr (1).
 .TP
-.BR \-x " \f2name\f1, " \-\-remove "=\f2name\f1"
+.BI \-x " name\fR, " \-\-remove= name
 Remove the named extended attribute entirely.
 .TP
 .BR \-h ", " \-\-no-dereference
-Do not follow symlinks.  If
+Do not follow symlinks.
+If
 .I pathname
-is a symbolic link, it is not followed, but is instead itself the
-inode being modified.
+is a symbolic link,
+it is not followed,
+but is instead itself the inode being modified.
 .TP
-.BR \-\-restore =\f2file\f1
+.BI \-\-restore= file
 Restores extended attributes from file.
 The file must be in the format generated by the
 .B getfattr
 command with the
 .B \-\-dump
 option.
-If a dash (\c
-.IR \- )
+If a dash
+.RI ( \- )
 is given as the file name,
 .B setfattr
 reads from standard input.
 .TP
 .B \-\-raw
-Do not decode the attribute value. Can be used to set values obtained with
-.BR "getfattr --only-values" .
+Do not decode the attribute value.
+Can be used to set values obtained with
+.BR "getfattr \-\-only-values" .
 .TP
 .B \-\-version
 Print the version of
@@ -92,19 +102,19 @@ Print help explaining the command line options.
 .TP
 .B \-\-
 End of command line options.
-All remaining parameters are interpreted as file names, even if they
-start with a dash character.
+All remaining parameters are interpreted as file names,
+even if they start with a dash character.
 .SH EXAMPLES
 Add extended attribute to user namespace:
 .PP
 .nf
-.B "$ setfattr -n user.foo -v bar file.txt
+.B "$ setfattr \-n user.foo \-v bar file.txt
 .fi
 .PP
 To add md5sum of the file as an extended attribute:
 .PP
 .nf
-.B "# setfattr -n trusted.md5sum -v d41d8cd98f00b204e00998ecf8427e file.txt
+.B "# setfattr \-n trusted.md5sum \-v d41d8cd98f00b204e00998ecf8427e file.txt
 .fi
 .SH AUTHOR
 Andreas Gruenbacher,
-- 
2.47.2

